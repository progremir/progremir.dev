---
interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="description" content="Personal website of Emir Amanbekov" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="generator" content={Astro.generator} />
    <title>{title}</title>
  </head>
  <body>
    <div
      class="min-h-screen bg-cover bg-center bg-no-repeat"
      style="background-image: url('/xp-wallpaper.jpg');"
    >
      <div
        class="taskbar fixed bottom-0 left-0 right-0 h-[30px] bg-gradient-to-b from-[#245EDC] via-[#3C81F3] to-[#245EDC] flex items-center justify-between px-1"
      >
        <button
          class="start-button h-[25px] px-2 flex items-center bg-gradient-to-b from-[#3C8B27] via-[#57A127] to-[#3C8B27] text-white font-bold rounded shadow-inner border-[1px] border-[#6FB845] hover:from-[#4CA831] hover:via-[#6BC22C] hover:to-[#4CA831]"
        >
          <img src="/windows.svg" alt="Windows XP" class="w-4 h-4 mr-1" />
          <span>start</span>
        </button>
        <div class="flex items-center">
          <div class="flex items-center gap-4 px-4">
            <a
              href="https://twitter.com/progremir"
              target="_blank"
              class="social-link"
            >
              <img src="/x.svg" alt="X (Twitter)" class="w-4 h-4 invert" />
            </a>
            <a
              href="https://instagram.com/progremir"
              target="_blank"
              class="social-link"
            >
              <img src="/ig.svg" alt="Instagram" class="w-4 h-4 invert" />
            </a>
            <a
              href="https://github.com/progremir"
              target="_blank"
              class="social-link"
            >
              <img src="/github.svg" alt="GitHub" class="w-4 h-4 invert" />
            </a>
            <a
              href="https://linkedin.com/in/progremir"
              target="_blank"
              class="social-link bg-white rounded-sm"
            >
              <img src="/linkedin.svg" alt="LinkedIn" class="w-4 h-4" />
            </a>
          </div>
          <div
            class="time-widget h-[25px] min-w-[60px] px-2 flex items-center justify-center bg-gradient-to-b from-[#245EDC] via-[#3C81F3] to-[#245EDC] text-white text-sm border-l border-[#0842B5]"
          >
            <span id="time">12:00 PM</span>
          </div>
        </div>
      </div>
      <div class="p-4">
        <slot />
      </div>
    </div>

    <script>
      function updateTime() {
        const timeElement = document.getElementById("time");
        if (timeElement) {
          const now = new Date();
          const hours = now.getHours();
          const minutes = now.getMinutes();
          const ampm = hours >= 12 ? "PM" : "AM";
          const displayHours = hours % 12 || 12;
          const displayMinutes = minutes.toString().padStart(2, "0");
          timeElement.textContent = `${displayHours}:${displayMinutes} ${ampm}`;
        }
      }

      // Update time immediately and then every minute
      updateTime();
      setInterval(updateTime, 60000);
    </script>
  </body>
</html>
